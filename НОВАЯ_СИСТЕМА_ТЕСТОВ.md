# üéØ –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞. –¢–µ–ø–µ—Ä—å:
- ‚úÖ **–ö–∞–∂–¥–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–º–µ–µ—Ç —Å–≤–æ–π —Ç–µ—Å—Ç** (—Å–≤—è–∑—å one-to-one)
- ‚úÖ **–¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
- ‚úÖ **–†–∞–±–æ—Ç–∞ –≤–µ–¥–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏**
- ‚úÖ **–ú–∏–Ω–∏–º—É–º 3 –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ–ª—å—à–µ

---

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –î–æ:
```
Test ‚Üí Lesson (many-to-one)
```
–¢–µ—Å—Ç—ã –±—ã–ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —É—Ä–æ–∫–∞–º, –Ω—É–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –≤—Ä—É—á–Ω—É—é.

### –ü–æ—Å–ª–µ:
```
Test ‚Üí Schedule (one-to-one)
```
–ö–∞–∂–¥–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π —Ç–µ—Å—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏.

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `tests`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚ùå –£–¥–∞–ª–µ–Ω–æ: `lesson_id` (—Å–≤—è–∑—å —Å —É—Ä–æ–∫–∞–º–∏)
- ‚ùå –£–¥–∞–ª–µ–Ω–æ: `type` (—Ç–∏–ø —Ç–µ—Å—Ç–∞)
- ‚ùå –£–¥–∞–ª–µ–Ω–æ: `is_public` (–ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å)
- ‚ùå –£–¥–∞–ª–µ–Ω–æ: `start_date`, `end_date` (–¥–∞—Ç—ã)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: `schedule_id` (—Å–≤—è–∑—å —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º)

**–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```sql
CREATE TABLE tests (
    id BIGINT PRIMARY KEY,
    title VARCHAR(255),
    description TEXT,
    schedule_id BIGINT ‚Üí schedules(id),  -- –ù–û–í–û–ï!
    created_by BIGINT ‚Üí users(id),
    time_limit INT,           -- –º–∏–Ω—É—Ç—ã
    passing_score INT,        -- –ø—Ä–æ—Ü–µ–Ω—Ç (0-100)
    max_attempts INT,         -- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
    is_active BOOLEAN,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

### –°–≤—è–∑–∏

```
Schedule (–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
    ‚îî‚îÄ‚îÄ Test (one-to-one) - –û–¥–∏–Ω —Ç–µ—Å—Ç –Ω–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
            ‚îî‚îÄ‚îÄ Questions (one-to-many) - –í–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞
                    ‚îî‚îÄ‚îÄ Answers (one-to-many) - –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å
```

---

## üöÄ API Endpoints

### 1. –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤ (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π)

**GET** `/teacher/tests`

**–û—Ç–≤–µ—Ç:**
```json
{
  "schedules": [
    {
      "id": 1,
      "subject_name": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
      "group_name": "–ò–¢-101",
      "semester": 1,
      "study_year": 2025,
      "has_test": true,
      "test": {
        "id": 5,
        "title": "–¢–µ—Å—Ç: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
        "description": "...",
        "time_limit": 60,
        "passing_score": 70,
        "max_attempts": 3,
        "is_active": true,
        "questions_count": 10
      }
    }
  ],
  "stats": {
    "total_schedules": 5,
    "with_tests": 3,
    "without_tests": 2
  }
}
```

---

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä/—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**GET** `/teacher/schedules/{schedule_id}/test`

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ —Ç–µ—Å—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ
- –ï—Å–ª–∏ —Ç–µ—Å—Ç–∞ –Ω–µ—Ç ‚Üí **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç** –Ω–æ–≤—ã–π —Ç–µ—Å—Ç

**–û—Ç–≤–µ—Ç:**
```json
{
  "test": {
    "id": 5,
    "title": "–¢–µ—Å—Ç: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
    "description": "...",
    "time_limit": 60,
    "passing_score": 70,
    "max_attempts": 3,
    "is_active": false,
    "schedule_id": 1,
    "schedule": {
      "id": 1,
      "subject_name": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
      "group_name": "–ò–¢-101",
      "semester": 1,
      "study_year": 2025
    },
    "questions": [
      {
        "id": 1,
        "question": "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 2+2?",
        "type": "single_choice",
        "order": 1,
        "explanation": "–ü—Ä–æ—Å—Ç–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ",
        "answers": [
          {
            "id": 1,
            "answer": "4",
            "is_correct": true,
            "order": 1
          },
          {
            "id": 2,
            "answer": "3",
            "is_correct": false,
            "order": 2
          },
          {
            "id": 3,
            "answer": "5",
            "is_correct": false,
            "order": 3
          }
        ]
      }
    ]
  }
}
```

---

### 3. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∞

**PUT** `/teacher/tests/{test_id}`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ",
  "description": "–ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç",
  "time_limit": 90,
  "passing_score": 75,
  "max_attempts": 2,
  "is_active": true
}
```

---

### 4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∞

**POST** `/teacher/tests/{test_id}/toggle-status`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç `is_active` –º–µ–∂–¥—É `true` –∏ `false`

---

### 5. –°–æ–∑–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å

**POST** `/teacher/tests/{test_id}/questions`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "question": "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 2+2?",
  "type": "single_choice",
  "explanation": "–ü—Ä–æ—Å—Ç–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ",
  "answers": [
    {
      "answer": "4",
      "is_correct": true
    },
    {
      "answer": "3",
      "is_correct": false
    },
    {
      "answer": "5",
      "is_correct": false
    }
  ]
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- ‚úÖ –ú–∏–Ω–∏–º—É–º 3 –æ—Ç–≤–µ—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- ‚úÖ –¢–∏–ø –≤–æ–ø—Ä–æ—Å–∞: `single_choice`, `multiple_choice`, `matching`

**–¢–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤:**

#### 1. Single Choice (–æ–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç)
```json
{
  "type": "single_choice",
  "answers": [
    {"answer": "–û—Ç–≤–µ—Ç 1", "is_correct": true},
    {"answer": "–û—Ç–≤–µ—Ç 2", "is_correct": false},
    {"answer": "–û—Ç–≤–µ—Ç 3", "is_correct": false}
  ]
}
```

#### 2. Multiple Choice (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤)
```json
{
  "type": "multiple_choice",
  "answers": [
    {"answer": "–û—Ç–≤–µ—Ç 1", "is_correct": true},
    {"answer": "–û—Ç–≤–µ—Ç 2", "is_correct": true},
    {"answer": "–û—Ç–≤–µ—Ç 3", "is_correct": false},
    {"answer": "–û—Ç–≤–µ—Ç 4", "is_correct": false}
  ]
}
```

#### 3. Matching (—Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
```json
{
  "type": "matching",
  "answers": [
    {"answer": "–ü–∞—Ä–∞ 1", "matching_key": "A", "matching_value": "1"},
    {"answer": "–ü–∞—Ä–∞ 2", "matching_key": "B", "matching_value": "2"},
    {"answer": "–ü–∞—Ä–∞ 3", "matching_key": "C", "matching_value": "3"}
  ]
}
```

---

### 6. –û–±–Ω–æ–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å

**PUT** `/teacher/tests/{test_id}/questions/{question_id}`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "question": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å",
  "type": "single_choice",
  "explanation": "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ",
  "answers": [
    {
      "id": 1,           // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ—Ç–≤–µ—Ç (–±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω)
      "answer": "–û—Ç–≤–µ—Ç 1",
      "is_correct": true
    },
    {
      "id": 2,           // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ—Ç–≤–µ—Ç (–±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω)
      "answer": "–û—Ç–≤–µ—Ç 2",
      "is_correct": false
    },
    {
      // –ù–æ–≤—ã–π –æ—Ç–≤–µ—Ç (–±–µ–∑ id)
      "answer": "–û—Ç–≤–µ—Ç 3",
      "is_correct": false
    }
  ]
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –û—Ç–≤–µ—Ç—ã —Å `id` ‚Üí –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- –û—Ç–≤–µ—Ç—ã –±–µ–∑ `id` ‚Üí —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ
- –û—Ç–≤–µ—Ç—ã –Ω–µ –≤ —Å–ø–∏—Å–∫–µ ‚Üí —É–¥–∞–ª—è—é—Ç—Å—è

---

### 7. –£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å

**DELETE** `/teacher/tests/{test_id}/questions/{question_id}`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–æ–ø—Ä–æ—Å –∏ –≤—Å–µ –µ–≥–æ –æ—Ç–≤–µ—Ç—ã —É–¥–∞–ª–µ–Ω—ã

---

### 8. –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤

**PATCH** `/teacher/tests/{test_id}/questions/reorder`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "questions": [
    {"id": 1, "order": 1},
    {"id": 3, "order": 2},
    {"id": 2, "order": 3}
  ]
}
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏

**–®–∞–≥ 1:** –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
```
GET /teacher/schedules/1/test
```
‚Üí –¢–µ—Å—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–®–∞–≥ 2:** –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
```
POST /teacher/tests/5/questions
{
  "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è?",
  "type": "single_choice",
  "answers": [
    {"answer": "–ú–µ—Å—Ç–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö", "is_correct": true},
    {"answer": "–§—É–Ω–∫—Ü–∏—è", "is_correct": false},
    {"answer": "–¶–∏–∫–ª", "is_correct": false}
  ]
}
```

**–®–∞–≥ 3:** –î–æ–±–∞–≤–∏—Ç—å –µ—â–µ –≤–æ–ø—Ä–æ—Å—ã (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ)

**–®–∞–≥ 4:** –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç
```
POST /teacher/tests/5/toggle-status
```

**–®–∞–≥ 5:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```
PUT /teacher/tests/5
{
  "time_limit": 45,
  "passing_score": 80,
  "max_attempts": 2,
  "is_active": true
}
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞

```
PUT /teacher/tests/5/questions/1
{
  "question": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å",
  "type": "multiple_choice",
  "answers": [
    {"id": 1, "answer": "–í–∞—Ä–∏–∞–Ω—Ç A", "is_correct": true},
    {"id": 2, "answer": "–í–∞—Ä–∏–∞–Ω—Ç B", "is_correct": true},
    {"answer": "–í–∞—Ä–∏–∞–Ω—Ç C", "is_correct": false},  // –ù–æ–≤—ã–π
    {"answer": "–í–∞—Ä–∏–∞–Ω—Ç D", "is_correct": false}   // –ù–æ–≤—ã–π
  ]
}
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í—Å–µ –º–µ—Ç–æ–¥—ã –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ `TestPolicy`:

```php
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
public function update(User $user, Test $test): bool
{
    return $test->schedule && 
           $test->schedule->teacher_id === $user->id;
}
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- ‚úÖ –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ—Å—Ç–æ–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `authorize()`
- ‚úÖ –û—à–∏–±–∫–∞ 403 –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —á—É–∂–æ–º—É —Ç–µ—Å—Ç—É

---

## üìä –í–∞–ª–∏–¥–∞—Ü–∏—è

### –í–æ–ø—Ä–æ—Å:
- `question` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —Å—Ç—Ä–æ–∫–∞
- `type` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –æ–¥–∏–Ω –∏–∑: `single_choice`, `multiple_choice`, `matching`
- `explanation` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —Å—Ç—Ä–æ–∫–∞
- `answers` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–∞—Å—Å–∏–≤, –º–∏–Ω–∏–º—É–º 3 —ç–ª–µ–º–µ–Ω—Ç–∞

### –û—Ç–≤–µ—Ç:
- `answer` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —Å—Ç—Ä–æ–∫–∞
- `is_correct` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, boolean
- `matching_key` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —Å—Ç—Ä–æ–∫–∞ (–¥–ª—è —Ç–∏–ø–∞ matching)
- `matching_value` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —Å—Ç—Ä–æ–∫–∞ (–¥–ª—è —Ç–∏–ø–∞ matching)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∞:
- `title` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–∞–∫—Å–∏–º—É–º 255 —Å–∏–º–≤–æ–ª–æ–≤
- `description` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- `time_limit` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —á–∏—Å–ª–æ >= 1
- `passing_score` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —á–∏—Å–ª–æ 0-100
- `max_attempts` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —á–∏—Å–ª–æ >= 1
- `is_active` - boolean

---

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ `/teacher/schedules/{id}/test`:
```php
$test = Test::create([
    'title' => '–¢–µ—Å—Ç: ' . $schedule->subject->name,
    'description' => '...',
    'schedule_id' => $schedule->id,
    'created_by' => Auth::id(),
    'passing_score' => 60,
    'max_attempts' => 3,
    'is_active' => false,  // –ù–µ–∞–∫—Ç–∏–≤–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
]);
```

### –£–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–∞ —Å–∏—Å—Ç–µ–º–∞:
1. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã (—Å `id`)
2. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã (–±–µ–∑ `id`)
3. –£–¥–∞–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –∑–∞–ø—Ä–æ—Å–µ

### –ú–∏–Ω–∏–º—É–º 3 –æ—Ç–≤–µ—Ç–∞
```php
'answers' => 'required|array|min:3'
```
–í–∞–ª–∏–¥–∞—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –º–∏–Ω–∏–º—É–º 3 –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å.

---

## üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ —É—Ä–æ–∫–∞–º:

1. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
php artisan db:backup
```

2. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏**
```bash
php artisan migrate
```

3. **–ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**
–°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.

---

## üìÅ –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

### –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
```
app/Http/Controllers/Teacher/
    ‚îú‚îÄ‚îÄ TestController.php        - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏
    ‚îî‚îÄ‚îÄ QuestionController.php    - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞–º–∏
```

### –ú–æ–¥–µ–ª–∏
```
app/Models/
    ‚îú‚îÄ‚îÄ Test.php           - –º–æ–¥–µ–ª—å —Ç–µ—Å—Ç–∞
    ‚îú‚îÄ‚îÄ TestQuestion.php   - –º–æ–¥–µ–ª—å –≤–æ–ø—Ä–æ—Å–∞
    ‚îî‚îÄ‚îÄ TestAnswer.php     - –º–æ–¥–µ–ª—å –æ—Ç–≤–µ—Ç–∞
```

### Policy
```
app/Policies/
    ‚îî‚îÄ‚îÄ TestPolicy.php     - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏
```
database/migrations/
    ‚îî‚îÄ‚îÄ 2025_10_14_184007_change_tests_to_schedule_relation.php
```

### –ú–∞—Ä—à—Ä—É—Ç—ã
```
routes/web.php (—Å—Ç—Ä–æ–∫–∏ 363-373)
```

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- [ ] –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤ `/teacher/tests`
- [ ] –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ç–µ—Å—Ç–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å (–º–∏–Ω–∏–º—É–º 3 –æ—Ç–≤–µ—Ç–∞)
- [ ] –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å
- [ ] –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å
- [ ] –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤
- [ ] –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∞
- [ ] –ú–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ)
- ‚úÖ –ß–µ—Ç–∫–∞—è —Å–≤—è–∑—å: –æ–¥–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ = –æ–¥–∏–Ω —Ç–µ—Å—Ç
- ‚úÖ –†–∞–±–æ—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å: –º–∏–Ω–∏–º—É–º 3 –æ—Ç–≤–µ—Ç–∞, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Policy

